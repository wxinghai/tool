import{s as e,g as t,r as a,c as s,w as l,i,o as c,a as n,b as r,t as u,n as d,d as o,e as h,F as g,f,h as p,j as _,I as b,k as x,S as y}from"./index-D31kkTKz.js";const v=((e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a})({data:()=>({intensityList:[{label:"70.00%",sets:"4×8",value:70},{label:"71.25%",sets:"4×8",value:71.25},{label:"72.50%",sets:"4×8",value:72.5},{label:"73.75%",sets:"4×8",value:73.75},{label:"75.00%",sets:"4×6",value:75},{label:"70.00%",sets:"3×5",value:70},{label:"76.25%",sets:"4×6",value:76.25},{label:"77.50%",sets:"4×6",value:77.5},{label:"78.75%",sets:"5×5",value:78.75},{label:"80.00%",sets:"5×5",value:80},{label:"81.25%",sets:"5×5",value:81.25},{label:"70.00%",sets:"3×5",value:70},{label:"82.50%",sets:"5×5",value:82.5},{label:"83.75%",sets:"4×4",value:83.75},{label:"85.00%",sets:"4×4",value:85},{label:"86.25%",sets:"4×4",value:86.25},{label:"87.50%",sets:"4×4",value:87.5},{label:"70.00%",sets:"3×5",value:70},{label:"88.75%",sets:"4×4",value:88.75},{label:"90.00%",sets:"3×3",value:90},{label:"91.25%",sets:"3×3",value:91.25},{label:"92.50%",sets:"3×3",value:92.5},{label:"93.75%",sets:"3×3",value:93.75},{label:"95.00%",sets:"3×3",value:95},{label:"96.25%",sets:"1×1",value:96.25}],selectedIntensity:{label:"75.00%",sets:"4×6",value:75},exerciseList:[{label:"卧推",value:"bench"},{label:"深蹲",value:"squat"},{label:"硬拉",value:"deadlift"},{label:"引体向上",value:"pullup"},{label:"其它",value:"other"}],selectedExercise:{label:"卧推",value:"bench"},exerciseData:{bench:{weight:""},squat:{weight:""},deadlift:{weight:""},pullup:{bodyWeight:"",weight:""},other:{weight:""}}}),computed:{calculatedWeights(){const e={},t=this.selectedIntensity.value/100;return Object.keys(this.exerciseData).forEach((a=>{const s=this.exerciseData[a];if("pullup"===a){const l=parseFloat(s.bodyWeight)||0,i=parseFloat(s.weight)||0;e[a]=l>0?((l+i)*t-l).toFixed(2):"0.00"}else{const l=parseFloat(s.weight)||0;e[a]=(l*t).toFixed(2)}})),e},hasAnyData(){return this.exercisesWithData.length>0},exercisesWithData(){return Object.keys(this.exerciseData).filter((e=>{const t=this.exerciseData[e];return"pullup"===e&&t.bodyWeight||t.weight}))},selectedIntensityIndex(){return this.intensityList.findIndex((e=>e.value===this.selectedIntensity.value&&e.label===this.selectedIntensity.label))},selectedExerciseIndex(){return this.exerciseList.findIndex((e=>e.value===this.selectedExercise.value))}},mounted(){this.loadTrainingData()},watch:{exerciseData:{handler(e){this.saveTrainingData()},deep:!0},selectedIntensity:{handler(e){this.saveTrainingData()}},selectedExercise:{handler(e){this.saveTrainingData()}}},methods:{saveTrainingData(){try{const t={exerciseData:this.exerciseData,selectedIntensity:this.selectedIntensity,selectedExercise:this.selectedExercise,lastUpdated:(new Date).toISOString()};e("trainingData",t),console.log("训练数据已保存")}catch(t){console.error("保存训练数据失败:",t)}},loadTrainingData(){try{const e=t("trainingData");e&&(this.exerciseData=e.exerciseData||this.exerciseData,this.selectedIntensity=e.selectedIntensity||this.selectedIntensity,this.selectedExercise=e.selectedExercise||this.selectedExercise,console.log("训练数据已加载"))}catch(e){console.error("读取训练数据失败:",e)}},clearTrainingData(){try{a("trainingData"),this.exerciseData={bench:{weight:""},squat:{weight:""},deadlift:{weight:""},pullup:{bodyWeight:"",weight:""},other:{weight:""}},this.selectedIntensity={label:"75.00%",sets:"4×6",value:75},this.selectedExercise={label:"卧推",value:"bench"},console.log("训练数据已清空")}catch(e){console.error("清空训练数据失败:",e)}},onIntensityChange(e){const t=e.detail.value;this.selectedIntensity=this.intensityList[t],console.log("选择了训练强度:",this.selectedIntensity.label)},onIntensityCancel(){console.log("取消选择训练强度")},onExerciseChange(e){const t=e.detail.value;this.selectedExercise=this.exerciseList[t],console.log("选择了运动项目:",this.selectedExercise.label)},onExerciseCancel(){console.log("取消选择运动项目")},getExerciseLabel(e){const t=this.exerciseList.find((t=>t.value===e));return t?t.label:e},formatExerciseData(e){const t=this.exerciseData[e],a=this.calculatedWeights[e]||"0.00";if("pullup"===e){return`体重: ${t.bodyWeight||"未填写"}kg, 负重: ${t.weight||"未填写"}kg → 训练重量: ${a}kg`}return`重量: ${t.weight||"未填写"}kg → 训练重量: ${a}kg`},getCurrentTrainingWeight(){return this.calculatedWeights[this.selectedExercise.value]||"0.00"},getCurrentFormula(){const e=this.exerciseData[this.selectedExercise.value];if("pullup"===this.selectedExercise.value){const t=e.bodyWeight||0;return`(${t} + ${e.weight||0}) × ${this.selectedIntensity.label} - ${t}`}return`${e.weight||0} × ${this.selectedIntensity.label}`},getExercise1RM(e){const t=this.exerciseData[e];if("pullup"===e){const e=t.bodyWeight||0,a=t.weight||0;return e||a?`体重:${e}kg 负重:${a}kg`:""}{const e=t.weight||0;return e?`1RM: ${e}kg`:""}}}},[["render",function(e,t,a,v,m,D){const k=p,w=i,I=_,E=b,C=x,W=y;return c(),s(w,{class:"app-container"},{default:l((()=>[n(w,{class:"header"},{default:l((()=>[n(w,{class:"header-content"},{default:l((()=>[n(k,{class:"app-title"},{default:l((()=>[r("💪 训练助手")])),_:1}),n(k,{class:"app-subtitle"},{default:l((()=>[r("科学训练，精确计算")])),_:1})])),_:1}),D.hasAnyData?(c(),s(w,{key:0,class:"header-result"},{default:l((()=>[n(w,{class:"result-header-info"},{default:l((()=>[n(k,{class:"intensity-display"},{default:l((()=>[r(u(m.selectedIntensity.label)+" - "+u(m.selectedIntensity.sets),1)])),_:1}),n(w,{class:"progress-bar"},{default:l((()=>[n(w,{class:"progress-fill",style:d({width:m.selectedIntensity.value+"%"})},null,8,["style"])])),_:1})])),_:1}),n(w,{class:"all-exercises"},{default:l((()=>[(c(!0),o(g,null,h(D.exercisesWithData,(e=>(c(),s(w,{class:"exercise-item",key:e},{default:l((()=>[n(w,{class:"exercise-info"},{default:l((()=>[n(k,{class:"exercise-name"},{default:l((()=>[r(u(D.getExerciseLabel(e)),1)])),_:2},1024),n(k,{class:"exercise-1rm"},{default:l((()=>[r(u(D.getExercise1RM(e)),1)])),_:2},1024)])),_:2},1024),n(w,{class:"exercise-weight"},{default:l((()=>[n(k,{class:"weight-number"},{default:l((()=>[r(u(D.calculatedWeights[e]||"0.00"),1)])),_:2},1024),n(k,{class:"weight-unit"},{default:l((()=>[r("kg")])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):f("",!0)])),_:1}),n(W,{"scroll-y":"",class:"main-content"},{default:l((()=>[n(w,{class:"card intensity-card"},{default:l((()=>[n(w,{class:"card-header"},{default:l((()=>[n(k,{class:"card-icon"},{default:l((()=>[r("🎯")])),_:1}),n(k,{class:"card-title"},{default:l((()=>[r("训练强度")])),_:1})])),_:1}),n(I,{mode:"selector",range:m.intensityList,"range-key":"label",value:D.selectedIntensityIndex,onChange:D.onIntensityChange,onCancel:D.onIntensityCancel},{default:l((()=>[n(w,{class:"modern-picker intensity-picker"},{default:l((()=>[n(w,{class:"picker-content"},{default:l((()=>[n(k,{class:"picker-main"},{default:l((()=>[r(u(m.selectedIntensity.label),1)])),_:1}),n(k,{class:"picker-sub"},{default:l((()=>[r(u(m.selectedIntensity.sets),1)])),_:1})])),_:1}),n(k,{class:"picker-arrow"},{default:l((()=>[r("▼")])),_:1})])),_:1})])),_:1},8,["range","value","onChange","onCancel"])])),_:1}),n(w,{class:"card exercise-card"},{default:l((()=>[n(w,{class:"card-header"},{default:l((()=>[n(k,{class:"card-icon"},{default:l((()=>[r("🏋️")])),_:1}),n(k,{class:"card-title"},{default:l((()=>[r("运动项目")])),_:1})])),_:1}),n(I,{mode:"selector",range:m.exerciseList,"range-key":"label",value:D.selectedExerciseIndex,onChange:D.onExerciseChange,onCancel:D.onExerciseCancel},{default:l((()=>[n(w,{class:"modern-picker exercise-picker"},{default:l((()=>[n(w,{class:"picker-content"},{default:l((()=>[n(k,{class:"picker-main"},{default:l((()=>[r(u(m.selectedExercise.label),1)])),_:1}),n(k,{class:"picker-sub"},{default:l((()=>[r("选择训练项目")])),_:1})])),_:1}),n(k,{class:"picker-arrow"},{default:l((()=>[r("▼")])),_:1})])),_:1})])),_:1},8,["range","value","onChange","onCancel"])])),_:1}),n(w,{class:"card input-card"},{default:l((()=>[n(w,{class:"card-header"},{default:l((()=>[n(k,{class:"card-icon"},{default:l((()=>[r("📊")])),_:1}),n(k,{class:"card-title"},{default:l((()=>[r("输入数据")])),_:1})])),_:1}),"pullup"===m.selectedExercise.value?(c(),s(w,{key:0,class:"pullup-container"},{default:l((()=>[n(w,{class:"input-group"},{default:l((()=>[n(w,{class:"input-header"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[r("⚖️")])),_:1}),n(k,{class:"input-title"},{default:l((()=>[r("体重")])),_:1})])),_:1}),n(w,{class:"modern-input-wrapper"},{default:l((()=>[n(E,{type:"number",placeholder:"请输入体重",modelValue:m.exerciseData.pullup.bodyWeight,"onUpdate:modelValue":t[0]||(t[0]=e=>m.exerciseData.pullup.bodyWeight=e),class:"modern-input"},null,8,["modelValue"]),n(k,{class:"input-unit"},{default:l((()=>[r("kg")])),_:1})])),_:1})])),_:1}),n(w,{class:"input-group"},{default:l((()=>[n(w,{class:"input-header"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[r("🏋️")])),_:1}),n(k,{class:"input-title"},{default:l((()=>[r("负重")])),_:1})])),_:1}),n(w,{class:"modern-input-wrapper"},{default:l((()=>[n(E,{type:"number",placeholder:"请输入1RM负重",modelValue:m.exerciseData.pullup.weight,"onUpdate:modelValue":t[1]||(t[1]=e=>m.exerciseData.pullup.weight=e),class:"modern-input"},null,8,["modelValue"]),n(k,{class:"input-unit"},{default:l((()=>[r("kg")])),_:1})])),_:1})])),_:1})])),_:1})):(c(),s(w,{key:1,class:"normal-exercise-container"},{default:l((()=>[n(w,{class:"input-group"},{default:l((()=>[n(w,{class:"input-header"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[r("🏋️")])),_:1}),n(k,{class:"input-title"},{default:l((()=>[r("1RM重量")])),_:1})])),_:1}),n(w,{class:"modern-input-wrapper"},{default:l((()=>[n(E,{type:"number",placeholder:"请输入1RM重量",modelValue:m.exerciseData[m.selectedExercise.value].weight,"onUpdate:modelValue":t[2]||(t[2]=e=>m.exerciseData[m.selectedExercise.value].weight=e),class:"modern-input"},null,8,["modelValue"]),n(k,{class:"input-unit"},{default:l((()=>[r("kg")])),_:1})])),_:1})])),_:1})])),_:1})),D.hasAnyData?(c(),s(w,{key:2,class:"result-display"},{default:l((()=>[n(w,{class:"result-header"},{default:l((()=>[n(k,{class:"result-icon"},{default:l((()=>[r("🔥")])),_:1}),n(k,{class:"result-title"},{default:l((()=>[r("训练重量")])),_:1})])),_:1}),n(w,{class:"result-value"},{default:l((()=>[n(k,{class:"result-number"},{default:l((()=>[r(u(D.getCurrentTrainingWeight()),1)])),_:1}),n(k,{class:"result-unit"},{default:l((()=>[r("kg")])),_:1})])),_:1}),n(w,{class:"result-formula"},{default:l((()=>[n(k,{class:"formula-text"},{default:l((()=>[r(u(D.getCurrentFormula()),1)])),_:1})])),_:1})])),_:1})):f("",!0)])),_:1}),n(w,{class:"card manage-card"},{default:l((()=>[n(w,{class:"card-header"},{default:l((()=>[n(k,{class:"card-icon"},{default:l((()=>[r("🛠️")])),_:1}),n(k,{class:"card-title"},{default:l((()=>[r("数据管理")])),_:1})])),_:1}),n(w,{class:"manage-actions"},{default:l((()=>[n(C,{class:"action-btn clear-btn",onClick:D.clearTrainingData},{default:l((()=>[n(k,{class:"btn-icon"},{default:l((()=>[r("🗑️")])),_:1}),n(k,{class:"btn-text"},{default:l((()=>[r("清空数据")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),n(w,{class:"bottom-space"})])),_:1})])),_:1})}],["__scopeId","data-v-66c31465"]]);export{v as default};
